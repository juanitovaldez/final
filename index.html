<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Landing page</title>
        <link rel="stylesheet" href="css/bootstrap.css">
        <link rel="stylesheet" href="css/base.css">
        <script src="//unpkg.com/3d-force-graph"></script>


    <body>   
        <!-- Nav Bar -->
        <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
            <a class="navbar-brand" href="index.html">NHL Graph Analysis</a>
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
                <li class="nav-item"><a class="nav-link" href="#Viz">Viz</a></li>
                <li class="nav-item"><a href="#Thanks" class="nav-link">Thanks</a></li>
            </ul>
          </nav>

        <!-- Background Title section -->
        <header class="masthead">
            <div class="container d-flex h-100 align-items-center">
                <div class="mx-auto text-center">
                  <h1 class="mx-auto my-0 text-uppercase">Graph Network Representation of NHL Games</h1>
                </div>
              </div>
        </header>

        <!-- About -->
        <section id="about" class="about-section", text center>
            <div class="container">
                <div class="row">
                  <div class="col-lg-8 mx-auto">
                    <h2 class="text-white mb-4">What is a graph?</h2>
                    <p class="text-white-75">A graph is a collection of nodes or vertices linked by edges that signify a relationship. In this case I have scraped the play-by-play API
                      provided by the NHL. Each node is a player in the NHL and each edge is an interaction between two players. The edge/node format allows us to calculate centrality measure
                      to determine the productivity of a player. 
                    <h2 class='text-white mb-4'>Controls</h2>
                    <p class="text-white-75">
                      Pan: Click and drag your mouse around to pan the camera</br>
                      Rotate: Hold Ctrl+Click and drage to rotate around a point</br>
                      Zoom: Mouse wheel up and down </br>
                      Change Focus: Click on a node </hbr>
                      Perturb: Click and drage a node
                    </p>
                    <h2 class="text-white mb-4">Machine Learnign on Graphs</h2>

                      <p class="text-white-75"></p>

                    </div>
                </div>            
              </div>
        </section>

      <!-- Viz -->
        <section id='Viz', class="data-section" text center>
          <div class="container">

            <div class="col"></div>
              <h2 class="text-white" > 3d representation of a week in the NHL
              <p class="text-white-75"></p>            
            
              
          </div>

        </section>
        <div style="border: 0; margin: 0;"  id="3d-graph"></div>
              <script>
                const elem = document.getElementById('3d-graph');
                const Graph = ForceGraph3D()
                  (elem)
                    .jsonUrl('js/nhlpbp.json')
                    .nodeLabel('name')
                    .nodeAutoColorBy('team')
                    .onNodeHover(node => elem.style.cursor = node ? 'pointer' : null)
                    .onNodeClick(node => {
                      // Aim at node from outside it
                      const distance = 40;
                      const distRatio = 1 + distance/Math.hypot(node.x, node.y, node.z);

                      Graph.cameraPosition(
                        { x: node.x * distRatio, y: node.y * distRatio, z: node.z * distRatio }, // new position
                        node, // lookAt ({ x, y, z })
                        3000  // ms transition duration
                      );
                    });
                </script>
        <section id='Thanks' class='data-section text-center, text-white-75'>
          <p class="text-wthite-75"> Thanks goes out to Mike Bostok for creating d3.js and Vasco Asturiano for creating 3d-force-graph along with excellent documentation.</p>
        </section>
    </body>

        
      <body>

        <script src="js/jquery-3.4.1.js"></script>
        <script src="http://d3js.org/d3.v4.min.js" type="text/javascript"></script>
        <script src="http://d3js.org/d3-selection-multi.v1.js"></script>
        <script type="text/javascript" src="js/force_graph.js"></script>
        

        <script src="js/bootstrap.js"></script>
        <script src="js/bw.js"></script>
    </body>
</html>

